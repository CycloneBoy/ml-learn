#!/user/bin/env python
# -*- coding: utf-8 -*-
# @File  : other.py
# @Author: sl
# @Date  : 2022/4/9 - 下午11:30

import re
import traceback

import execjs
import requests
from scrapy import Selector

def get_521_content():
    # 一定要和第一次访问的user-agent一模
    headers = {
        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36',
    }

    url = "http://www.mafengwo.cn/u/56186565.html"
    req = requests.get(url, headers=headers)
    cookies = req.cookies

    cookies = '; '.join(['='.join(item) for item in cookies.items()])
    txt_521 = req.text
    txt_521 = ''.join(re.findall('<script>(.*?)</script>', txt_521))
    return (txt_521, cookies)


def fixed_fun(function):
    """
    var l=function(){while(window._phantom||window.__phantomas){};
    var cd,dc='__jsl_clearance=1519886795.502|0|';
    cd=[((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![]))-~~~[]-~-~{}-~~~[]-~-~{}+[]+[]),[4],(-~~~[]+[]+[])+(-~~~[]+[]+[]),(-~~~[]+[]+[]),(-~~~[]+[]+[])+[(-~[]|-~-~{})+(2<<-~[])],(-~~~[]+[]+[])+[4],(2+[[], ~~!{}][~~{}]),((-~-~{})*[(-~-~{}<<-~[])]+[]+[]),((+[])+[[], ~~!{}][~~{}]),(-~~~[]+[]+[])+((+[])+[[], ~~!{}][~~{}]),((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![]))+[[], ~~!{}][~~{}]),(-~~~[]+[]+[])+(-~![]+((-~![]<<-~![])<<-~[])+[]+[[]][~~[]]),[[-~-~{}]*((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))],(-~~~[]+[]+[])+[[-~-~{}]*((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))],(-~~~[]+[]+[])+(2+[[], ~~!{}][~~{}]),(-~~~[]+[]+[])+((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![]))+[[], ~~!{}][~~{}]),[(-~[]|-~-~{})+(2<<-~[])],(-~![]+((-~![]<<-~![])<<-~[])+[]+[[]][~~[]])];for(var i=0;i<cd.length;i++){cd[i]=[([-~[]-~[]-~[]-~[]][-~[]]+[]+[]).charAt(-~[-~~~[]-~(-~((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![]))))]),'HE',(2+[[], ~~!{}][~~{}])+[-~[]/~~[]+[]+[]][0].charAt(7)+(((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))/~~[]+[]).charAt(-~-~{})+[!{}+[[]][~~!{}]][0].charAt((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))+(-~~~[]+[]+[]),(2+[[], ~~!{}][~~{}]),'SG','D',[{}+[[]][~~!{}]][0].charAt(8),((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![]))+[[], ~~!{}][~~{}]),'T',(((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))/~~[]+[]).charAt(-~-~{})+[-~[]/~~[]+[]+[]][0].charAt(7)+[!{}+[[]][~~!{}]][0].charAt((-~[]+[(-~![]<<-~![])]>>(-~![]<<-~![])))+[-~[]/~~[]+[]+[]][0].charAt(7),'%',(-~![]+((-~![]<<-~![])<<-~[])+[]+[[]][~~[]])+((+[])+[[], ~~!{}][~~{}]),[-~[]/~~[]+[]+[]][0].charAt(7),'k%','x','FE','SEA',[!-[]+[]+[]][0].charAt(-~-~{})][cd[i]]};cd=cd.join('');dc+=cd;setTimeout('location.href=location.href.replace(/[\?|&]captcha-challenge/,\'\')',1500);
    document.cookie=(dc+';Expires=Thu, 01-Mar-18 07:46:35 GMT;Path=/;');};if((function(){try{return !!window.addEventListener;}catch(e){return false;}})()){document.addEventListener('DOMContentLoaded',l,false);}else{document.attachEvent('onreadystatechange',l);}

    :param function:
    :return:
    """
    # func_return = function.replace('eval', 'return')
    func_return = function.replace('document.cookie=', 'return')
    content = execjs.compile(func_return)
    evaled_func = content.call('f')

    # __jsl_clearance=1649514252.712|-1|ZTqA4gRBrclCWF9hNJIynwZYKkI%3D;max-age=3600;path=/
    logger.info(f"evaled_func:{evaled_func}")

    return evaled_func

def demo_get_user_html():
    url = "http://www.mafengwo.cn/u/56186565.html"
    user_spider = ExtractUserInfo(url=url)

    # html = user_spider.get_url_html_by_request(url)

    func = get_521_content()
    content = func[0]
    cookie_id = func[1]
    print(cookie_id)
    print(content)

    cookie_js = fixed_fun(content)
    print(cookie_js)

    headers = {
        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.119 Safari/537.36',
        'Cookie': cookie_id + ';' + cookie_js}  # 一定要和第一次访问的user-agent一模一样
    code = requests.get(url, headers=headers).text
    print(code)

    #     <script>var _0x1bae=['LsOXVsO/','Ul4wFA==','W8K5WDo=','O8ORwpfDsg==','My5mwqY=','MSp+wqg=','w4XDkjU6','V8OnwrIy','T8O8wqkD','wrHDrn0i','w4ofIsKA','DcOewrzDkw==','OhIOw4E=','w6HDml/DoA==','wqQYecOH','wosyTMKa','W8OGwodW','wprClRvCrg==','DcOnw57Dtw==','K2vDiMOv','aFIpwpk=','w5rDuT8M','wqZITik=','wqvDvl0T','HMO+w5I=','wqMxU8KJ','LDN+woY=','wrBgWyg=','Z8OMwobCqg==','Q8Obw5FP','w4vDnMOMw6A=','CBgKNA==','McODwp5P','MMO2wqV1','wpULTsKr','VBwiSg==','G3pQfg==','AcOQwqV1','LMO2wqh5','G3jDunc=','SR0vVA==','w7DCuQvCvQ==','K1bDocOj','UjYHw5I=','wp3DumnCmw==','w63Dv8O/w7Y=','d8KDTi0=','CcOXU8Os','BMONwoxy','TcKlw43DkA==','Y3wDFA==','Hixtwq8=','w5XCu8KqKA==','TsODwqwh','wqrDu2Um','w6tkFw==','J0jDl8Oe','C8O5w57DqQ==','w6jDuRYB','VxQkw4o=','w7DDuTEs','asKWw43Dsw==','wrbDpFnDrg==','wr4ARTE=','w6Mmw7rCrA==','XMObwply','RcOow4nCnw==','CT9Owqc=','X24Gwp4=','woExe8KN','w5PClm1D','wokDZD4=','wr4EIGY=','w7TCm8KmDg==','w6pxCEc=','eVQowos=','fgQvw6I=','w6ZNXMKe','w4HDs37Dsg==','woE9f8KZ','RBkGfw==','wqYXQsKw','ZWEowps=','MsK0wrbDtA==','w5vDmMORw5w=','GsOCwo5U','cMOhwoUC','w7IFJsKI','FMODwpJa','wqDDgWLDgg==','w7PDnRU1','L8O8w7LDgw==','asKHWTY=','w4ZDPG4=','SQg2UA==','w7A/w7TCgg==','BcORwqjDog==','w6Igw7PCnw==','AWjDmkY=','AsKQwoBx','wqnDv3wL','wr/Cmwc=','wpc4bsKa','wrdeCsKJ','MQFewos=','IkXDpnk=','w7HClkRr','wpHCiMOGw5s=','PcK8wprDiA==','JhYUw44=','ccOFwpZV','wqjCkA/Cow==','fkZMwp4=','JMKgwpLDoQ==','PsK+TyE=','GXnDm28=','wp8hVcO1','DcOcw5XDsQ==','dsKMQx4=','EcOGwpRc','w5sPAcKV','wrVLbSA=','wpA9SBE=','VmA6JA==','w4DDjBUC','CcOHwpxB','TsObwq02','w57CuMKywpg=','SQ80w6o=','HEkwWA==','woFaWQw=','JcOawpxn','wo1wKMKg','wrJlKsK3','VRTCrHc=','RsKWw5IA','w6zDp8Okw78=','w4zDn8OVw5o=','asOawpNf','A8KDe8KI','wonDu3TDrw==','wqstXsKT','w5Izw4jCpQ==','JzYWw7s=','EMOew5k=','w4cdw67CqA==','B3kZHQ==','IsO3wqJn','wr1sVFc=','dcOQwq1v','w6Uww53CjA==','PcKYw4bDtA==','w5A8w47CqQ==','w73Dj2zDgg==','fTgIcw==','J8OIwqVW','wr7Do3I3','GQF8woY=','KXzDr8OC','w4jDjTUC','HsOkw7HDjQ==','OxQQBg==','EsOgacOf','HHbDs8OE','CRsaGQ==','JGPDmMOH','w5DCknRu','CsK0TC0=','D8OFwqZA','fVY7wpg=','w4rDmcOGw4s=','dlgLAQ==','OcOow5bDlg==','wq8MbMOc','AFkYLg==','woNkLsKT','w4bDogMB','w7nDk8OGw78=','asOFwpHCsQ==','wpQiwoXDhQ==','aMKDXCw=','QCskw7g=','w4oqw5bDlw==','6Ky15rOI6aqN6Ky7','wp0eTw4=','MCksNw==','worDnlg0'];(function(_0x428716,_0x1bae6f){var _0x32cf67=function(_0x449279){while(--_0x449279){_0x428716['push'](_0x428716['shift']());}};_0x32cf67(++_0x1bae6f);}(_0x1bae,0x17b));var _0x32cf=function(_0x428716,_0x1bae6f){_0x428716=_0x428716-0x0;var _0x32cf67=_0x1bae[_0x428716];if(_0x32cf['tUwagj']===undefined){(function(){var _0x3753d5=function(){var _0x179065;try{_0x179065=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x423f76){_0x179065=window;}return _0x179065;};var _0x489460=_0x3753d5();var _0x185f69='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x489460['atob']||(_0x489460['atob']=function(_0x267b45){var _0x1a974c=String(_0x267b45)['replace'](/=+$/,'');var _0x45574d='';for(var _0x282665=0x0,_0x5a923f,_0x1f2e18,_0x4c180c=0x0;_0x1f2e18=_0x1a974c['charAt'](_0x4c180c++);~_0x1f2e18&&(_0x5a923f=_0x282665%0x4?_0x5a923f*0x40+_0x1f2e18:_0x1f2e18,_0x282665++%0x4)?_0x45574d+=String['fromCharCode'](0xff&_0x5a923f>>(-0x2*_0x282665&0x6)):0x0){_0x1f2e18=_0x185f69['indexOf'](_0x1f2e18);}return _0x45574d;});}());var _0x12e866=function(_0x3bc38c,_0x411615){var _0x37e1a5=[],_0x473cac=0x0,_0x46f8b1,_0x5571d5='',_0x54a9fa='';_0x3bc38c=atob(_0x3bc38c);for(var _0x383aab=0x0,_0x4bf21d=_0x3bc38c['length'];_0x383aab<_0x4bf21d;_0x383aab++){_0x54a9fa+='%'+('00'+_0x3bc38c['charCodeAt'](_0x383aab)['toString'](0x10))['slice'](-0x2);}_0x3bc38c=decodeURIComponent(_0x54a9fa);var _0x541aba;for(_0x541aba=0x0;_0x541aba<0x100;_0x541aba++){_0x37e1a5[_0x541aba]=_0x541aba;}for(_0x541aba=0x0;_0x541aba<0x100;_0x541aba++){_0x473cac=(_0x473cac+_0x37e1a5[_0x541aba]+_0x411615['charCodeAt'](_0x541aba%_0x411615['length']))%0x100;_0x46f8b1=_0x37e1a5[_0x541aba];_0x37e1a5[_0x541aba]=_0x37e1a5[_0x473cac];_0x37e1a5[_0x473cac]=_0x46f8b1;}_0x541aba=0x0;_0x473cac=0x0;for(var _0x1cdd4b=0x0;_0x1cdd4b<_0x3bc38c['length'];_0x1cdd4b++){_0x541aba=(_0x541aba+0x1)%0x100;_0x473cac=(_0x473cac+_0x37e1a5[_0x541aba])%0x100;_0x46f8b1=_0x37e1a5[_0x541aba];_0x37e1a5[_0x541aba]=_0x37e1a5[_0x473cac];_0x37e1a5[_0x473cac]=_0x46f8b1;_0x5571d5+=String['fromCharCode'](_0x3bc38c['charCodeAt'](_0x1cdd4b)^_0x37e1a5[(_0x37e1a5[_0x541aba]+_0x37e1a5[_0x473cac])%0x100]);}return _0x5571d5;};_0x32cf['EZpchT']=_0x12e866;_0x32cf['lOdpqp']={};_0x32cf['tUwagj']=!![];}var _0x449279=_0x32cf['lOdpqp'][_0x428716];if(_0x449279===undefined){if(_0x32cf['hFwhTM']===undefined){_0x32cf['hFwhTM']=!![];}_0x32cf67=_0x32cf['EZpchT'](_0x32cf67,_0x1bae6f);_0x32cf['lOdpqp'][_0x428716]=_0x32cf67;}else{_0x32cf67=_0x449279;}return _0x32cf67;};function hash(_0x1fc0f0){var _0x5355e9={};_0x5355e9[_0x32cf('0xb1','evde')+'s']=function(_0x2df8d8,_0x4bd407){return _0x2df8d8^_0x4bd407;};_0x5355e9[_0x32cf('0x19','yhJm')+'p']=function(_0x237502,_0x467cec){return _0x237502&_0x467cec;};_0x5355e9[_0x32cf('0x64','IVVA')+'k']=function(_0x2e2476,_0x28a308){return _0x2e2476&_0x28a308;};_0x5355e9[_0x32cf('0x90','^HZJ')+'a']=_0x32cf('0x3d','9vBc')+_0x32cf('0x6b','Gq[6')+_0x32cf('0x66','yhJm')+_0x32cf('0x6a','II65');_0x5355e9[_0x32cf('0x51','#%sK')+'N']=function(_0x4ac53c,_0x26e5f1){return _0x4ac53c>=_0x26e5f1;};_0x5355e9[_0x32cf('0xb7','VLju')+'j']=function(_0x3d5fde,_0x19f3b9){return _0x3d5fde&_0x19f3b9;};_0x5355e9[_0x32cf('0x46','u1Xp')+'e']=function(_0x249bfe,_0x1c7116){return _0x249bfe>>_0x1c7116;};_0x5355e9[_0x32cf('0x71','$Szg')+'w']=function(_0x28428d,_0x3b5666){return _0x28428d>>_0x3b5666;};_0x5355e9[_0x32cf('0x83','yhJm')+'g']=function(_0x5dbff3,_0x1c51e6){return _0x5dbff3+_0x1c51e6;};_0x5355e9[_0x32cf('0x77','Woi*')+'P']=function(_0x58927c,_0x8ed5a9){return _0x58927c*_0x8ed5a9;};_0x5355e9[_0x32cf('0x21','gaWG')+'l']=function(_0x41f0f7,_0x67d725){return _0x41f0f7-_0x67d725;};_0x5355e9[_0x32cf('0x9f','*FYB')+'N']=function(_0x38e4d2,_0x2fa12b){return _0x38e4d2*_0x2fa12b;};_0x5355e9[_0x32cf('0xa4','u1Xp')+'P']=function(_0x375a9c,_0x356d1e){return _0x375a9c>>_0x356d1e;};_0x5355e9[_0x32cf('0x9b','3b%u')+'F']=function(_0x26c773,_0x3e4e6d){return _0x26c773<<_0x3e4e6d;};_0x5355e9[_0x32cf('0xa7','3b%u')+'R']=function(_0x4430f4,_0x53a3c3){return _0x4430f4>>>_0x53a3c3;};_0x5355e9[_0x32cf('0x7b','8*Z2')+'j']=function(_0x3d6957,_0x1d5305){return _0x3d6957<_0x1d5305;};_0x5355e9[_0x32cf('0x6e','IVVA')+'M']=function(_0x13a822,_0xdd266b){return _0x13a822&_0xdd266b;};_0x5355e9[_0x32cf('0x80','vz3I')+'M']=function(_0x4667e2,_0x3f5228){return _0x4667e2<_0x3f5228;};_0x5355e9[_0x32cf('0x3e','$3mk')+'e']=function(_0x2ec8be,_0x41463c){return _0x2ec8be<_0x41463c;};_0x5355e9[_0x32cf('0x1a','*FYB')+'p']=function(_0x3e1ee9,_0x12a2f7){return _0x3e1ee9|_0x12a2f7;};_0x5355e9[_0x32cf('0x16','dgPj')+'X']=function(_0x4b4c10,_0x5f596){return _0x4b4c10(_0x5f596);};_0x5355e9[_0x32cf('0x2a','I^)5')+'Z']=function(_0xaf5e2c,_0x5f0af3,_0x34d9b8){return _0xaf5e2c(_0x5f0af3,_0x34d9b8);};_0x5355e9[_0x32cf('0x49','g@CR')+'a']=function(_0xcdd4e1,_0x5ee6ff){return _0xcdd4e1-_0x5ee6ff;};_0x5355e9[_0x32cf('0x4b','oRUm')+'Z']=function(_0x57d171,_0x22b344){return _0x57d171-_0x22b344;};_0x5355e9[_0x32cf('0x8d','untO')+'x']=function(_0x1bdf8d,_0x3dc56f){return _0x1bdf8d-_0x3dc56f;};_0x5355e9[_0x32cf('0x3','#%sK')+'e']=function(_0x75fd6d,_0x1fca02,_0x2fbdf2){return _0x75fd6d(_0x1fca02,_0x2fbdf2);};_0x5355e9[_0x32cf('0x93','qlV5')+'k']=function(_0x10c8e8,_0x314c18,_0x4f83c9){return _0x10c8e8(_0x314c18,_0x4f83c9);};_0x5355e9[_0x32cf('0x85','^HZJ')+'M']=function(_0x3feda0,_0xd487e4,_0x312299,_0x199223,_0x26c33b){return _0x3feda0(_0xd487e4,_0x312299,_0x199223,_0x26c33b);};_0x5355e9[_0x32cf('0xe','xMi6')+'j']=function(_0x5b273b,_0x429e1f,_0x5103f6){return _0x5b273b(_0x429e1f,_0x5103f6);};_0x5355e9[_0x32cf('0x37','3]cv')+'p']=function(_0x48626c,_0x1ee97f){return _0x48626c+_0x1ee97f;};_0x5355e9[_0x32cf('0x58','K1$8')+'y']=function(_0x2f792e,_0x2d7215){return _0x2f792e(_0x2d7215);};var _0xf969aa=_0x5355e9;function _0xbf0b18(_0x44c5d3,_0x4f8169){return _0xf969aa[_0x32cf('0x15','$3mk')+'s'](_0xf969aa[_0x32cf('0xa9','untO')+'p'](_0x44c5d3,0x7fffffff)+_0xf969aa[_0x32cf('0x19','yhJm')+'p'](_0x4f8169,0x7fffffff)^_0xf969aa[_0x32cf('0x9c','*FYB')+'p'](_0x44c5d3,0x80000000),_0xf969aa[_0x32cf('0x5b','&0Sd')+'k'](_0x4f8169,0x80000000));}function _0x5b26dc(_0x2d5be7){var _0x151f9a=_0xf969aa[_0x32cf('0x8a','Gq[6')+'a'];var _0x19e0ce='';for(var _0x27e513=0x7;_0xf969aa[_0x32cf('0x6f','F*BI')+'N'](_0x27e513,0x0);_0x27e513--){_0x19e0ce+=_0x151f9a[_0x32cf('0x97','SZte')+'At'](_0xf969aa[_0x32cf('0x14','hh9B')+'j'](_0xf969aa[_0x32cf('0x8e','gaWG')+'e'](_0x2d5be7,_0x27e513*0x4),0xf));}return _0x19e0ce;}function _0x147bb0(_0x4321af){var _0x2b65b6=_0xf969aa[_0x32cf('0x3f','u1Xp')+'w'](_0xf969aa[_0x32cf('0xf','u1Xp')+'g'](_0x4321af[_0x32cf('0x9d','I^)5')+'th'],0x8),0x6)+0x1,_0x3f55fe=new Array(_0x2b65b6*0x10);for(var _0x27deeb=0x0;_0x27deeb<_0xf969aa[_0x32cf('0x96','@T@A')+'P'](_0x2b65b6,0x10);_0x27deeb++){_0x3f55fe[_0x27deeb]=0x0;}for(_0x27deeb=0x0;_0x27deeb<_0x4321af[_0x32cf('0xba','$3mk')+'th'];_0x27deeb++){_0x3f55fe[_0xf969aa[_0x32cf('0x2b','gaWG')+'w'](_0x27deeb,0x2)]|=_0x4321af[_0x32cf('0xa5','yhJm')+_0x32cf('0x42','zDLp')+'At'](_0x27deeb)<<_0xf969aa[_0x32cf('0x10','3]cv')+'l'](0x18,_0xf969aa[_0x32cf('0x91','qlV5')+'N'](_0x27deeb&0x3,0x8));}_0x3f55fe[_0xf969aa[_0x32cf('0xb6','I^)5')+'P'](_0x27deeb,0x2)]|=_0xf969aa[_0x32cf('0x12','SZte')+'F'](0x80,_0xf969aa[_0x32cf('0x75','zDLp')+'l'](0x18,_0xf969aa[_0x32cf('0xac','yhJm')+'N'](_0x27deeb&0x3,0x8)));_0x3f55fe[_0xf969aa[_0x32cf('0x95','oRUm')+'l'](_0x2b65b6*0x10,0x1)]=_0xf969aa[_0x32cf('0x11','dgPj')+'N'](_0x4321af[_0x32cf('0x68','Gq[6')+'th'],0x8);return _0x3f55fe;}function _0x504251(_0x2dcb5e,_0x17967a){return _0xf969aa[_0x32cf('0x22','IVVA')+'F'](_0x2dcb5e,_0x17967a)|_0xf969aa[_0x32cf('0x6c','9vBc')+'R'](_0x2dcb5e,0x20-_0x17967a);}function _0x44a29e(_0x2aadbc,_0x5bf078,_0x33388b,_0x36c761){if(_0xf969aa[_0x32cf('0x63','$3mk')+'j'](_0x2aadbc,0x14))return _0xf969aa[_0x32cf('0x1','Woi*')+'M'](_0x5bf078,_0x33388b)|~_0x5bf078&_0x36c761;if(_0xf969aa[_0x32cf('0x1c','@T@A')+'M'](_0x2aadbc,0x28))return _0xf969aa[_0x32cf('0x7e','@T@A')+'s'](_0x5bf078^_0x33388b,_0x36c761);if(_0xf969aa[_0x32cf('0x3b','qlV5')+'e'](_0x2aadbc,0x3c))return _0xf969aa[_0x32cf('0xc','II65')+'p'](_0xf969aa[_0x32cf('0x41','Spzk')+'M'](_0x5bf078,_0x33388b),_0xf969aa[_0x32cf('0x5f','SZte')+'M'](_0x5bf078,_0x36c761))|_0x33388b&_0x36c761;return _0xf969aa[_0x32cf('0x81','&mv)')+'s'](_0x5bf078^_0x33388b,_0x36c761);}function _0x570c6a(_0x377541){return _0x377541<0x14?0x5a827999:_0xf969aa[_0x32cf('0x3e','$3mk')+'e'](_0x377541,0x28)?0x6ed9eba1:_0xf969aa[_0x32cf('0x65','Spzk')+'e'](_0x377541,0x3c)?-0x70e44324:-0x359d3e2a;}var _0x5de74a=_0xf969aa[_0x32cf('0x98','$3mk')+'X'](_0x147bb0,_0x1fc0f0);var _0x515e70=new Array(0x50);var _0xc3ac18=0x67452301;var _0x4a83aa=-0x10325477;var _0x4fee58=-0x67452302;var _0x1b429c=0x10325476;var _0x5dc380=-0x3c2d1e10;for(var _0xad9e7b=0x0;_0xf969aa[_0x32cf('0x9e','11^v')+'e'](_0xad9e7b,_0x5de74a[_0x32cf('0x50','gaWG')+'th']);_0xad9e7b+=0x10){var _0x3c5b9f=(_0x32cf('0x8f','K1$8')+_0x32cf('0x2c','9vBc')+_0x32cf('0x7a','R#cg')+_0x32cf('0x18','gaWG')+_0x32cf('0x48','vz3I')+'10')[_0x32cf('0xa2','g&0G')+'t']('|');var _0x5cd099=0x0;while(!![]){switch(_0x3c5b9f[_0x5cd099++]){case'0':var _0x2f80ae=_0x4a83aa;continue;case'1':_0x4a83aa=_0xbf0b18(_0x4a83aa,_0x2f80ae);continue;case'2':_0x4fee58=_0xbf0b18(_0x4fee58,_0x4d36a1);continue;case'3':for(var _0x3be778=0x0;_0x3be778<0x50;_0x3be778++){if(_0x3be778<0x10){_0x515e70[_0x3be778]=_0x5de74a[_0xad9e7b+_0x3be778];}else{_0x515e70[_0x3be778]=_0xf969aa[_0x32cf('0x1d','hh9B')+'Z'](_0x504251,_0xf969aa[_0x32cf('0x1f','w90l')+'s'](_0x515e70[_0xf969aa[_0x32cf('0x33','xMi6')+'a'](_0x3be778,0x3)]^_0x515e70[_0x3be778-0x8]^_0x515e70[_0xf969aa[_0x32cf('0x38','fiXp')+'Z'](_0x3be778,0xe)],_0x515e70[_0xf969aa[_0x32cf('0x70','3b%u')+'x'](_0x3be778,0x10)]),0x1);}t=_0xf969aa[_0x32cf('0x35','3]cv')+'e'](_0xbf0b18,_0xbf0b18(_0xf969aa[_0x32cf('0x84','yhJm')+'k'](_0x504251,_0xc3ac18,0x5),_0xf969aa[_0x32cf('0x8c','qlV5')+'M'](_0x44a29e,_0x3be778,_0x4a83aa,_0x4fee58,_0x1b429c)),_0xbf0b18(_0xf969aa[_0x32cf('0xa6','VLju')+'k'](_0xbf0b18,_0x5dc380,_0x515e70[_0x3be778]),_0xf969aa[_0x32cf('0xab','3]cv')+'X'](_0x570c6a,_0x3be778)));_0x5dc380=_0x1b429c;_0x1b429c=_0x4fee58;_0x4fee58=_0x504251(_0x4a83aa,0x1e);_0x4a83aa=_0xc3ac18;_0xc3ac18=t;}continue;case'4':var _0x41d233=_0xc3ac18;continue;case'5':_0xc3ac18=_0xf969aa[_0x32cf('0x6d','g&0G')+'j'](_0xbf0b18,_0xc3ac18,_0x41d233);continue;case'6':var _0x44e94f=_0x1b429c;continue;case'7':var _0x78d48b=_0x5dc380;continue;case'8':var _0x4d36a1=_0x4fee58;continue;case'9':_0x1b429c=_0xbf0b18(_0x1b429c,_0x44e94f);continue;case'10':_0x5dc380=_0xbf0b18(_0x5dc380,_0x78d48b);continue;}break;}}return _0xf969aa[_0x32cf('0x76','VLju')+'g'](_0xf969aa[_0x32cf('0x36','8*Z2')+'p'](_0x5b26dc(_0xc3ac18)+_0xf969aa[_0x32cf('0x86','H(IV')+'X'](_0x5b26dc,_0x4a83aa)+_0x5b26dc(_0x4fee58),_0xf969aa[_0x32cf('0x39','0z%0')+'y'](_0x5b26dc,_0x1b429c)),_0x5b26dc(_0x5dc380));}function go(_0xc694e9){var _0x124bce={};_0x124bce[_0x32cf('0x2','#%sK')+'s']=function(_0x2a1c26,_0x25ee74){return _0x2a1c26!==_0x25ee74;};_0x124bce[_0x32cf('0x56','3b%u')+'c']=_0x32cf('0x52','@u#x')+_0x32cf('0x60','II65');_0x124bce[_0x32cf('0x5c','qlV5')+'c']=function(_0x5e1a23,_0x4da5f8){return _0x5e1a23<_0x4da5f8;};_0x124bce[_0x32cf('0xb4','*FYB')+'C']=function(_0x272fee,_0x435bcb){return _0x272fee!=_0x435bcb;};_0x124bce[_0x32cf('0x6','&0Sd')+'y']=_0x32cf('0x3a','zDLp')+'d';_0x124bce[_0x32cf('0xb5','SZte')+'V']=_0x32cf('0xa','hh9B')+'p';_0x124bce[_0x32cf('0x28','yhJm')+'T']=function(_0x4ff439,_0x571bb2){return _0x4ff439-_0x571bb2;};_0x124bce[_0x32cf('0x31','SZte')+'P']=function(_0x57599b,_0x567e09){return _0x57599b+_0x567e09;};_0x124bce[_0x32cf('0x74','dgPj')+'s']=function(_0x1fd83b,_0x349385){return _0x1fd83b+_0x349385;};_0x124bce[_0x32cf('0x7f','vz3I')+'D']=_0x32cf('0x24','II65')+_0x32cf('0xb','gaWG')+'=';_0x124bce[_0x32cf('0x73','@u#x')+'C']=function(_0x3ba7f2,_0x5bb55d,_0x48e48f){return _0x3ba7f2(_0x5bb55d,_0x48e48f);};_0x124bce[_0x32cf('0xb9','&0Sd')+'Q']=function(_0x33c8bb,_0x34fd0a){return _0x33c8bb>_0x34fd0a;};_0x124bce[_0x32cf('0x99','xMi6')+'U']=function(_0x368601,_0x4bfb48){return _0x368601(_0x4bfb48);};var _0x303cf1=_0x124bce;function _0x574497(){if(_0x303cf1[_0x32cf('0x2d','VLju')+'s'](_0x32cf('0x8','g@CR')+'r',_0x32cf('0x88','hh9B')+'G')){var _0x40eb62=window[_0x32cf('0x0','$3mk')+_0x32cf('0xa8','F*BI')+'r'][_0x32cf('0x26','8*Z2')+_0x32cf('0x2e','$3mk')+'t'],_0x213b27=[_0x303cf1[_0x32cf('0x4e','9vBc')+'c']];for(var _0x2e2564=0x0;_0x303cf1[_0x32cf('0xb3','zDLp')+'c'](_0x2e2564,_0x213b27[_0x32cf('0x5d','IVVA')+'th']);_0x2e2564++){if(_0x303cf1[_0x32cf('0x69','^HZJ')+'C'](_0x40eb62[_0x32cf('0x30','#%sK')+_0x32cf('0x8b','3b%u')](_0x213b27[_0x2e2564]),-0x1)){return!![];}}if(window[_0x32cf('0x45','K1$8')+_0x32cf('0x44',')QCN')+_0x32cf('0x13','3b%u')]||window[_0x32cf('0x27','60iQ')+_0x32cf('0x23','oRUm')]||window[_0x32cf('0x67','9vBc')+_0x32cf('0xaf','$Szg')]||window[_0x32cf('0x57','$Szg')+_0x32cf('0x1b','@T@A')+'r'][_0x32cf('0x94','g@CR')+_0x32cf('0x4f','yhJm')+'r']||window[_0x32cf('0x17','KPE8')+_0x32cf('0x89','qlV5')+'r'][_0x32cf('0x87','3Zb*')+_0x32cf('0x79','#%sK')+_0x32cf('0x78','@T@A')+_0x32cf('0x9','F*BI')+'e']||window[_0x32cf('0x59','oRUm')+_0x32cf('0x72','gaWG')+'r'][_0x32cf('0xb8','$Szg')+_0x32cf('0x53','gaWG')+_0x32cf('0x54','3Zb*')+_0x32cf('0xd','3b%u')+_0x32cf('0x61','hh9B')]){return!![];}}else{return[tk,new Date()-_0x1f335f];}};if(_0x574497()){return;}var _0x1f335f=new Date();function _0x5b5835(_0x292436,_0x230f95){var _0x3616dd={};_0x3616dd[_0x32cf('0x9a','3]cv')+'k']=function(_0x36e97b,_0x14163f){return _0x36e97b&_0x14163f;};var _0x50e86f=_0x3616dd;var _0x47fa61=_0xc694e9[_0x32cf('0xad','KPE8')+'s'][_0x32cf('0x4','SZte')+'th'];for(var _0x4638af=0x0;_0x303cf1[_0x32cf('0x20','@T@A')+'c'](_0x4638af,_0x47fa61);_0x4638af++){for(var _0x4ffce1=0x0;_0x4ffce1<_0x47fa61;_0x4ffce1++){if(_0x303cf1[_0x32cf('0x25','xMi6')+'y']===_0x303cf1[_0x32cf('0xaa','vz3I')+'V']){var _0x129d79=_0x32cf('0x82','gaWG')+_0x32cf('0x92','KPE8')+_0x32cf('0xb0','SGo@')+_0x32cf('0x4a','hh9B');var _0x55fbdc='';for(var _0x11516c=0x7;_0x11516c>=0x0;_0x11516c--){_0x55fbdc+=_0x129d79[_0x32cf('0x34','3b%u')+'At'](_0x50e86f[_0x32cf('0x4d','u1Xp')+'k'](num>>_0x11516c*0x4,0xf));}return _0x55fbdc;}else{var _0x404596=_0x230f95[0x0]+_0xc694e9[_0x32cf('0xae','T!]e')+'s'][_0x32cf('0x55','3]cv')+'tr'](_0x4638af,0x1)+_0xc694e9[_0x32cf('0x40','hh9B')+'s'][_0x32cf('0x1e','oRUm')+'tr'](_0x4ffce1,0x1)+_0x230f95[0x1];if(hash(_0x404596)==_0x292436){return[_0x404596,_0x303cf1[_0x32cf('0x4c','hh9B')+'T'](new Date(),_0x1f335f)];}}}}};var _0x1ed3ca=_0x303cf1[_0x32cf('0xa3','gaWG')+'C'](_0x5b5835,_0xc694e9['ct'],_0xc694e9[_0x32cf('0x32','K1$8')]);if(_0x1ed3ca){var _0x333e4e;if(_0xc694e9['wt']){_0x333e4e=_0x303cf1[_0x32cf('0x2f',')QCN')+'Q'](_0x303cf1[_0x32cf('0x5a','qlV5')+'U'](parseInt,_0xc694e9['wt']),_0x1ed3ca[0x1])?_0x303cf1[_0x32cf('0x3c','^HZJ')+'T'](parseInt(_0xc694e9['wt']),_0x1ed3ca[0x1]):0x1f4;}else{_0x333e4e=0x5dc;}setTimeout(function(){document[_0x32cf('0x62','vz3I')+'ie']=_0x303cf1[_0x32cf('0xa1','Spzk')+'P'](_0x303cf1[_0x32cf('0x7d','dgPj')+'P'](_0x303cf1[_0x32cf('0x5e','pk%l')+'s'](_0xc694e9['tn'],'=')+_0x1ed3ca[0x0]+_0x303cf1[_0x32cf('0x47','8*Z2')+'D'],_0xc694e9['vt']),_0x32cf('0x7c','oRUm')+_0x32cf('0x43','zDLp')+'\x20/');location[_0x32cf('0x5','@u#x')]=location[_0x32cf('0x7','Gq[6')+_0x32cf('0xa0','11^v')]+location[_0x32cf('0x29','$Szg')+'ch'];},_0x333e4e);}else{alert(_0x32cf('0xb2','60iQ')+'å¤±è´¥');}};go({"bts":["1649514793.065|0|CF5","nXSm7VaJhCLoqM19%2Bx7AuI%3D"],"chars":"BSlzyZK2pUzAHvPKXnUrTU","ct":"cc10358ca79a625e62430eee1dc230d44896064b","ha":"sha1","tn":"__jsl_clearance","vt":"3600","wt":"1500"})</script>

    txt_521 = ''.join(re.findall('<script>(.*?)</script>', code))

    evaled_func = txt_521.replace('eval', 'return')
    # func_return = txt_521.replace('document.cookie=', 'return')

    mode_func = evaled_func.replace('while(window._phantom||window.__phantomas){};', ''). \
        replace('document.cookie=', 'return').replace(';if((function(){try{return !!window.addEventListener;}', ''). \
        replace("catch(e){return false;}})()){document.addEventListener('DOMContentLoaded',l,false);}", ''). \
        replace("else{document.attachEvent('onreadystatechange',l);}", '').replace(
        r"setTimeout('location.href=location.href.replace(/[\?|&]captcha-challenge/,\'\')',1500);", '') \

    content = execjs.compile(mode_func)
    cookies = content.call('l')
    __jsl_clearance = cookies.split(';')[0]
    print(__jsl_clearance)

    content = execjs.compile(evaled_func)
    evaled_func = content.call('f')

    print(evaled_func)

